<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="The Fight Song Genome - An interactive visualization exploring the cultural DNA of college fight songs">
  <meta name="author" content="Purdue University">
  <title>The Fight Song Genome | Purdue Data Visualization</title>

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Comic+Neue:wght@300;400;700&family=Cormorant+Garamond:wght@400;500;600;700&family=IBM+Plex+Mono:wght@400;500&family=Manrope:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  <!-- Styles -->
  <link rel="stylesheet" href="css/style.css">

  <!-- D3.js -->
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <script src="https://d3js.org/topojson.v3.min.js"></script>

  <!-- GSAP -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollToPlugin.min.js"></script>
</head>
<body>
  <!-- Loading Screen -->
  <div id="loader" class="loader">
    <div class="loader-content">
      <div class="loader-spinner"></div>
      <p class="loader-text">Loading Fight Songs...</p>
    </div>
  </div>

  <!-- Noise Overlay -->
  <div class="noise-overlay" aria-hidden="true"></div>

  <!-- ============================================
       ACT 1: ENERGY GALAXY
       ============================================ -->
  <section id="act-1" class="act act-galaxy">
    <div class="galaxy-container">
      <!-- Title -->
      <header class="galaxy-header">
        <h1 class="galaxy-title">
          <span class="title-main">The Fight Song <span class="title-accent">Genome</span></span>
        </h1>
        <p class="galaxy-subtitle">Decoding the Cultural DNA of College Fight Songs</p>
      </header>

      <!-- Canvas for Galaxy -->
      <canvas id="galaxy-canvas" aria-label="Interactive visualization showing 65 college fight songs as stars"></canvas>

      <!-- Galaxy Legend -->
      <aside class="galaxy-legend glass-panel">
        <h3 class="legend-title">Conference</h3>
        <ul class="legend-list" id="galaxy-legend-list">
          <!-- Populated by JS -->
        </ul>
        <div class="legend-hint">
          <span class="hint-icon">&#9733;</span>
          <span class="hint-text">Purdue at center</span>
        </div>
      </aside>

      <!-- Stats Panel -->
      <aside class="galaxy-stats glass-panel">
        <div class="stat-item">
          <span class="stat-value" data-value="65">0</span>
          <span class="stat-label">Universities</span>
        </div>
        <div class="stat-item">
          <span class="stat-value" data-value="6">0</span>
          <span class="stat-label">Conferences</span>
        </div>
        <div class="stat-item">
          <span class="stat-value" data-value="133">0</span>
          <span class="stat-label">Years of History</span>
        </div>
      </aside>

      <!-- Scroll Indicator -->
      <div class="scroll-indicator">
        <span class="scroll-text">Scroll to explore</span>
        <div class="scroll-arrow">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M12 5v14M5 12l7 7 7-7"/>
          </svg>
        </div>
      </div>
    </div>
  </section>

  <!-- ============================================
       ACT 2: DATA DASHBOARD
       ============================================ -->
  <section id="act-2" class="act act-dashboard">
    <div class="dashboard-container">
      <!-- Dashboard Header -->
      <header class="dashboard-header">
        <h2 class="dashboard-title">Data Dashboard</h2>
        <div class="dashboard-controls">
          <div class="control-group">
            <label for="conference-filter" class="control-label">Filter by Conference</label>
            <select id="conference-filter" class="control-select">
              <option value="all">All Conferences</option>
              <option value="ACC">ACC</option>
              <option value="Big 12">Big 12</option>
              <option value="Big Ten">Big Ten</option>
              <option value="Pac-12">Pac-12</option>
              <option value="SEC">SEC</option>
              <option value="Independent">Independent</option>
            </select>
          </div>
        </div>
      </header>

      <!-- Main Dashboard Grid -->
      <div class="dashboard-grid">
        <!-- Left: USA Map -->
        <article class="panel panel-map glass-panel">
          <header class="panel-header">
            <h3 class="panel-title">Geographic Distribution</h3>
            <p class="panel-subtitle">65 universities across America</p>
          </header>
          <div class="panel-content">
            <div id="map-container" class="map-container"></div>
          </div>
        </article>

        <!-- Right Top: Conference Radar -->
        <article class="panel panel-radar glass-panel">
          <header class="panel-header">
            <h3 class="panel-title">Conference Fingerprints</h3>
            <p class="panel-subtitle">Comparing fight song characteristics</p>
          </header>
          <div class="panel-content">
            <div id="radar-container" class="radar-container"></div>
            <p class="panel-note">Lyrical profile by conference: student authorship, spelling, "win/won", "rah", and trope count.</p>
          </div>
        </article>

        <!-- Right Middle: Scatter Plot -->
        <article class="panel panel-scatter glass-panel">
          <header class="panel-header">
            <h3 class="panel-title">Tempo vs Duration</h3>
            <p class="panel-subtitle">Energy distribution of fight songs</p>
          </header>
          <div class="panel-content">
            <div id="scatter-container" class="scatter-container"></div>
          </div>
        </article>

        <!-- Right Bottom: School Info Card -->
        <article class="panel panel-info glass-panel" id="school-info-panel">
          <header class="panel-header">
            <h3 class="panel-title">University Details</h3>
          </header>
          <div class="panel-content">
            <div id="school-info-card" class="school-info-card">
              <div class="info-placeholder">
                <span class="placeholder-icon">&#9834;</span>
                <span class="placeholder-text">Hover over a university to see details</span>
              </div>
            </div>
          </div>
        </article>
      </div>

      <!-- Bottom: DNA Matrix -->
      <article class="panel panel-matrix glass-panel">
        <header class="panel-header">
          <h3 class="panel-title">Trope DNA Matrix</h3>
          <p class="panel-subtitle">What elements make up each fight song?</p>
          <div class="matrix-controls">
            <label for="matrix-sort" class="control-label">Sort by</label>
            <select id="matrix-sort" class="control-select">
              <option value="conference">Conference</option>
              <option value="trope_count">Trope Count</option>
              <option value="year">Year</option>
              <option value="bpm">BPM</option>
            </select>
          </div>
        </header>
        <div class="panel-content">
          <div id="matrix-container" class="matrix-container"></div>
        </div>
      </article>

      <!-- Network Graph -->
      <article class="panel panel-network glass-panel">
        <header class="panel-header">
          <h3 class="panel-title">Similarity Network</h3>
          <p class="panel-subtitle">Universities with similar musical characteristics</p>
        </header>
        <div class="panel-content">
          <div id="network-container" class="network-container"></div>
          <p class="panel-note">Nodes connect universities with similar tempo, duration, and trope density, revealing stylistic clusters beyond conference lines.</p>
        </div>
      </article>

      <!-- Parallel Coordinates -->
      <article class="panel panel-parallel glass-panel">
        <header class="panel-header">
          <h3 class="panel-title">Multi-Dimensional Analysis</h3>
          <p class="panel-subtitle">Compare all metrics simultaneously</p>
        </header>
        <div class="panel-content">
          <div id="parallel-container" class="parallel-container"></div>
          <p class="panel-note">Each line represents a university, tracking its BPM, duration, year, and whether it contains "fight" or "victory" lyrics. Brush any axis to filter.</p>
        </div>
      </article>

      <!-- Tempo Clock -->
      <article class="panel panel-clock glass-panel">
        <header class="panel-header">
          <h3 class="panel-title">Conference Tempo Rose</h3>
          <p class="panel-subtitle">Conference size and individual university tempos</p>
        </header>
        <div class="panel-content">
          <div id="clock-container" class="clock-container"></div>
          <p class="panel-note">Nightingale Rose Chart: Sector size = university count per conference. Arc position = individual BPM (inner=slow, outer=fast).</p>
        </div>
      </article>
    </div>
  </section>

  <!-- ============================================
       ACT 3: SUMMARY POSTER
       ============================================ -->
  <section id="act-3" class="act act-poster">
    <div class="poster-container">
      <header class="poster-header">
        <h2 class="poster-title">The Fight Song Genome</h2>
        <p class="poster-subtitle">What makes college fight songs tick?</p>
      </header>

      <div class="poster-grid">
        <!-- Key Findings -->
        <article class="poster-findings glass-panel">
          <h3 class="findings-title">Key Findings</h3>
          <ol class="findings-list">
            <li class="finding-item">
              <span class="finding-number">1</span>
              <div class="finding-content">
                <strong>Big Ten leads in tempo</strong>
                <p>With an average of 130 BPM, Big Ten universities have the fastest fight songs.</p>
              </div>
            </li>
            <li class="finding-item">
              <span class="finding-number">2</span>
              <div class="finding-content">
                <strong>SEC loves "fight" words</strong>
                <p>79% of SEC fight songs contain the word "fight" - highest among conferences.</p>
              </div>
            </li>
            <li class="finding-item">
              <span class="finding-number">3</span>
              <div class="finding-content">
                <strong>Older songs are simpler</strong>
                <p>Songs from pre-1920 average 2.8 tropes vs 4.1 for post-1950 songs.</p>
              </div>
            </li>
          </ol>
        </article>

        <!-- Mini Galaxy -->
        <article class="poster-galaxy glass-panel">
          <div id="mini-galaxy-container" class="mini-galaxy-container">
            <!-- Canvas will be created by JS -->
          </div>
          <div class="galaxy-summary">
            <div class="summary-stat">
              <span class="summary-value">65</span>
              <span class="summary-label">Universities</span>
            </div>
            <div class="summary-stat">
              <span class="summary-value">6</span>
              <span class="summary-label">Conferences</span>
            </div>
            <div class="summary-stat">
              <span class="summary-value">1893-1968</span>
              <span class="summary-label">Time Span</span>
            </div>
          </div>
        </article>

        <!-- Purdue Spotlight -->
        <article class="poster-spotlight glass-panel purdue-spotlight">
          <div class="spotlight-badge">
            <span class="badge-star">&#9733;</span>
            <span class="badge-text">Featured</span>
          </div>
          <h3 class="spotlight-title">Hail Purdue</h3>
          <p class="spotlight-tagline">"Speed over slogans"</p>

          <div class="spotlight-stats">
            <div class="spotlight-stat">
              <span class="stat-icon">&#9835;</span>
              <span class="stat-value">160</span>
              <span class="stat-label">BPM</span>
              <span class="stat-rank">#2 Fastest in Big Ten</span>
            </div>
            <div class="spotlight-stat">
              <span class="stat-icon">&#9201;</span>
              <span class="stat-value">86</span>
              <span class="stat-label">Seconds</span>
              <span class="stat-rank">Medium length</span>
            </div>
            <div class="spotlight-stat">
              <span class="stat-icon">&#9830;</span>
              <span class="stat-value">2</span>
              <span class="stat-label">Tropes</span>
              <span class="stat-rank">Most minimal in Big Ten</span>
            </div>
          </div>

          <p class="spotlight-description">
            While other universities rely on repeated chants and battle cries,
            Purdue's fight song delivers pure energy through tempo alone â€”
            embodying the engineering school's "less talk, more action" spirit.
          </p>
        </article>
      </div>

      <!-- Footer -->
      <footer class="poster-footer">
        <div class="footer-credits">
          <span>Data: FiveThirtyEight</span>
          <span class="footer-divider">|</span>
          <span>Visualization: Purdue University</span>
          <span class="footer-divider">|</span>
          <span>Love Data Week 2026</span>
        </div>
      </footer>
    </div>
  </section>

  <!-- ============================================
       TOOLTIP (Global)
       ============================================ -->
  <div id="tooltip" class="tooltip glass-panel" role="tooltip" aria-hidden="true">
    <div class="tooltip-header">
      <span class="tooltip-school"></span>
      <span class="tooltip-conference"></span>
    </div>
    <div class="tooltip-song"></div>
    <div class="tooltip-stats">
      <div class="tooltip-stat">
        <span class="stat-icon">&#9835;</span>
        <span class="stat-value bpm"></span>
        <span class="stat-label">BPM</span>
      </div>
      <div class="tooltip-stat">
        <span class="stat-icon">&#9201;</span>
        <span class="stat-value duration"></span>
        <span class="stat-label">sec</span>
      </div>
      <div class="tooltip-stat">
        <span class="stat-icon">&#9830;</span>
        <span class="stat-value tropes"></span>
        <span class="stat-label">tropes</span>
      </div>
    </div>
    <div class="tooltip-footer">
      <span class="tooltip-year"></span>
    </div>
  </div>

  <!-- ============================================
       SCRIPTS
       ============================================ -->
  <script type="module" src="js/main.js"></script>
</body>
</html>
